# Инструкция по публикации приложения для Zepp OS

## Содержание
1. Подготовка приложения к публикации
2. Структура пакета
3. Настройка конфигурации
4. Создание .zab файла
5. Публикация в Zepp App Store
6. Установка на часы для тестирования

## 1. Подготовка приложения к публикации

Приложение для Zepp OS должно быть правильно структурировано и соответствовать требованиям платформы. Основные компоненты приложения находятся в директории `zepp_app`:

- **app.json**: Основной конфигурационный файл
- **assets/**: Директория с изображениями и иконками
- **pages/**: Директория со страницами приложения
- **utils/**: Директория с утилитными функциями

### Важно перед публикацией:

1. Проверьте, что в `app.json` указаны правильные:
   - `appId`: Уникальный идентификатор приложения
   - `appName`: Название приложения
   - `version`: Актуальная версия
   - `permissions`: Необходимые разрешения

2. Убедитесь, что URL сервера в `utils/api.js` указан правильно:
   ```javascript
   const SERVER_URL = 'https://ваш-домен.com/api/zepp';
   ```

## 2. Структура пакета

Для создания пакета приложения, необходимо использовать следующую структуру:

```
zepp_app/
├── app.json
├── assets/
│   ├── icon.png
│   └── ... (другие изображения)
├── pages/
│   ├── index.js
│   └── recording.js
└── utils/
    ├── api.js
    ├── format.js
    └── recorder.js
```

## 3. Настройка конфигурации

Перед публикацией, убедитесь, что файл `app.json` содержит правильные настройки:

```json
{
  "app": {
    "appId": ваш_уникальный_id,
    "appName": "AudioRecorder",
    "appType": "app",
    "version": {
      "code": 1,
      "name": "1.0.0"
    },
    "icon": "assets/icon.png",
    "vender": "ВашеИмяРазработчика",
    "description": "Приложение для записи аудио и отправки на сервер"
  },
  "permissions": [
    "data:os.device.info",
    "device:os.local_storage", 
    "device:os.notification",
    "data:user.info",
    "device:os.microphone",
    "device:os.http"
  ],
  ...
}
```

Обратите внимание на раздел `targets` - здесь указаны поддерживаемые модели часов. По умолчанию поддерживается GTR 3 Pro.

## 4. Создание .zab файла

Чтобы создать `.zab` файл (Zepp App Bundle), вам потребуется установить Zeus CLI:

```bash
npm install @zeppos/zeus-cli -g
```

Затем в директории с вашим проектом выполните:

```bash
zeus build
```

Это создаст файл `your_app_name.zab` в директории `dist/`.

Для проекта также доступен простой способ упаковки:

```bash
# В корневой директории проекта
cd zepp_app
zip -r ../zepp_app_bundle.zip *
```

Переименуйте получившийся файл из .zip в .zab:

```bash
mv ../zepp_app_bundle.zip ../zepp_app_bundle.zab
```

## 5. Публикация в Zepp App Store

Для публикации приложения в официальном магазине Zepp:

1. Зарегистрируйтесь как разработчик на [Zepp Developers Portal](https://developer.zepp.com)
2. Создайте новое приложение в личном кабинете
3. Загрузите созданный `.zab` файл
4. Заполните информацию о приложении (описание, скриншоты, категория)
5. Отправьте на проверку

После проверки команды Zepp, ваше приложение появится в магазине.

## 6. Установка на часы для тестирования

Для тестирования приложения без публикации:

1. Включите режим разработчика на ваших часах Zepp OS:
   - Откройте приложение Zepp на смартфоне
   - Перейдите в Профиль -> Ваши часы -> Настройки -> О часах
   - Нажмите несколько раз на номер версии для активации режима разработчика

2. Включите отладку по USB на часах

3. Установите приложение Zeus CLI (если еще не установлено):
   ```bash
   npm install @zeppos/zeus-cli -g
   ```

4. Подключите часы к компьютеру и выполните:
   ```bash
   zeus preview
   ```

Альтернативно, вы можете установить приложение через смартфон:

1. Скопируйте `.zab` файл на ваш смартфон
2. Откройте приложение Zepp
3. Перейдите в раздел "Профиль" -> "Мое устройство" -> выберите ваши часы
4. Выберите "Установить приложение" и укажите путь к `.zab` файлу

## Проблемы при установке?

- Убедитесь, что ваши часы поддерживают Zepp OS 3.0
- Проверьте, что указанный в `targets` тип часов соответствует вашей модели
- Проверьте, что все разрешения в `app.json` указаны корректно

## Дополнительная информация

Для более подробной информации по разработке и публикации приложений для Zepp OS посетите [официальную документацию Zepp OS](https://docs.zepp.com/docs/intro/).